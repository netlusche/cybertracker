@import "tailwindcss";
@import url('https://fonts.googleapis.com/css2?family=Antonio:wght@400;700&family=Share+Tech+Mono&family=VT323&display=swap');

:root {
  /* Default Cyberpunk variables */
  --theme-bg: #0a0a0a;
  --theme-surface: #121212;
  --theme-border: #1e1e1e;
  --theme-primary: #00ffff;
  --theme-secondary: #ff00ff;
  --theme-success: #00ff00;
  --theme-accent: #bc13fe;
  --theme-card: rgba(30, 30, 30, 0.8);
  --theme-font: 'Courier New', Courier, monospace;
  --theme-radius: 0.5rem;

  --shadow-primary: 0 0 10px var(--theme-primary), 0 0 20px var(--theme-primary);
  --shadow-secondary: 0 0 10px var(--theme-secondary), 0 0 20px var(--theme-secondary);
  --shadow-accent: 0 0 10px var(--theme-accent), 0 0 20px var(--theme-accent);
}

.theme-cyberpunk {
  --theme-bg: #0a0a0a;
  --theme-surface: #121212;
  --theme-border: #1e1e1e;
  --theme-primary: #00ffff;
  --theme-secondary: #ff00ff;
  --theme-success: #00ff00;
  --theme-accent: #bc13fe;
  --theme-card: rgba(30, 30, 30, 0.8);
  --theme-font: 'Courier New', Courier, monospace;
  --theme-radius: 0.5rem;

  --shadow-primary: 0 0 10px var(--theme-primary), 0 0 20px var(--theme-primary);
  --shadow-secondary: 0 0 10px var(--theme-secondary), 0 0 20px var(--theme-secondary);
  --shadow-accent: 0 0 10px var(--theme-accent), 0 0 20px var(--theme-accent);
}

.theme-lcars {
  /* LCARS Classic Theme overrides (Palette Mapped) */
  --theme-bg: #000000;
  --theme-surface: #111111;
  --theme-border: #333333;
  --theme-primary: #ffcc33;
  /* 06 Yellow/Gold */
  --theme-secondary: #dd4444;
  /* 11 Red (Used for Warnings/Pink overrides) */
  --theme-success: #88ccff;
  /* 18 Ice */
  --theme-accent: #cc88ff;
  /* 09 African-Violet */
  --theme-danger: #dd4444;
  /* 11 Red */
  --theme-warning: #ffcc66;
  /* 06 Yellow/Gold (requested for Med Prio) */
  --theme-info: #4455ff;
  /* 05 Blue (XP/Level/Filters) */
  --theme-card: #050505;
  --theme-text: #f5f6fa;
  /* 01 Space-White */
  --theme-text-muted: #ffcc99;
  /* 12 Almond */
  --theme-font: 'Antonio', sans-serif;
  --theme-radius: 2rem;

  --shadow-primary: none;
  --shadow-secondary: none;
  --shadow-success: none;
  --shadow-accent: none;
  --shadow-danger: none;
}

.theme-matrix {
  --theme-bg: #030804;
  --theme-surface: #061209;
  --theme-border: #14321b;
  --theme-primary: #00ff41;
  --theme-secondary: #008f11;
  --theme-success: #00ff41;
  --theme-accent: #003b00;
  --theme-danger: #cc0000;
  --theme-warning: #cc8800;
  --theme-info: #008f11;
  --theme-card: rgba(3, 15, 6, 0.85);
  --theme-text: #00ff41;
  --theme-font: 'VT323', monospace;
  --theme-radius: 0rem;

  --shadow-primary: 0 0 8px rgba(0, 255, 65, 0.6);
  --shadow-secondary: 0 0 8px rgba(0, 143, 17, 0.6);
  --shadow-accent: none;
}

.theme-weyland {
  /* Weyland-Yutani Corp Terminal (Amber/Industrial CRT) */
  --theme-bg: #050505;
  --theme-surface: #0a0a0a;
  --theme-border: #332200;
  --theme-primary: #ffb000;
  --theme-secondary: #cc8400;
  --theme-success: #ffb000;
  --theme-accent: #885500;
  --theme-danger: #ea0000;
  --theme-warning: #ffcc00;
  --theme-info: #ffb000;
  --theme-card: rgba(10, 8, 0, 0.85);
  --theme-text: #ffb000;
  --theme-font: 'Share Tech Mono', monospace;
  --theme-radius: 0.125rem;

  --shadow-primary: 0 0 5px rgba(255, 176, 0, 0.4);
  --shadow-secondary: 0 0 5px rgba(204, 132, 0, 0.4);
  --shadow-accent: none;
}


/* Theme Selection Preview Cards */
.theme-lcars .theme-preview-card {
  border-radius: 0.5rem !important;
  background: black !important;
  padding: 0.75rem !important;
  border-width: 2px !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
}

/* CRT Overlay Effects */
.theme-matrix::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: repeating-linear-gradient(0deg, rgba(0, 0, 0, 0.15), rgba(0, 0, 0, 0.15) 1px, transparent 1px, transparent 2px);
  pointer-events: none;
  z-index: 9999;
}

.theme-weyland::after {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: radial-gradient(circle at center, transparent 30%, rgba(10, 8, 0, 0.4) 100%), repeating-linear-gradient(0deg, rgba(20, 10, 0, 0.1), rgba(20, 10, 0, 0.1) 2px, transparent 2px, transparent 4px);
  pointer-events: none;
  z-index: 9999;
}

/* LCARS Specific Detail Overrides removed to prevent clashing with standard Tailwind semantic styling */

/* LCARS Specific Detail Overrides */
.theme-lcars .lvl-bar-container {
  border-color: var(--theme-info) !important;
  box-shadow: none !important;
  border-radius: var(--theme-radius);
}

.theme-lcars .xp-text {
  color: var(--theme-info) !important;
}

.theme-lcars .xp-progress-bar {
  background: var(--theme-info) !important;
  box-shadow: none !important;
}

.theme-lcars .priority-select-border {
  border-color: var(--theme-info) !important;
}

/* Hide background grid in LCARS */
.theme-lcars .cyber-grid {
  display: none !important;
}

/* Adjust Calendar Width for LCARS */
.theme-lcars .calendar-container {
  width: 22rem !important;
  /* Increased from w-64 (16rem) */
}

.theme-lcars .calendar-container button {
  padding-left: 0.5rem !important;
  padding-right: 0.5rem !important;
  min-width: auto !important;
}

@theme {
  --color-cyber-black: var(--theme-bg);
  --color-cyber-dark: var(--theme-surface);
  --color-cyber-gray: var(--theme-border);
  --color-cyber-primary: var(--theme-primary);
  --color-cyber-secondary: var(--theme-secondary);
  --color-cyber-success: var(--theme-success);
  --color-cyber-accent: var(--theme-accent);
  --color-cyber-danger: var(--theme-danger);
  --color-cyber-warning: var(--theme-warning);
  --color-cyber-info: var(--theme-info);
  --color-cyber-card: var(--theme-card);

  --font-mono: var(--theme-font);

  --shadow-cyber-primary: var(--shadow-primary);
  --shadow-cyber-secondary: var(--shadow-secondary);
  --shadow-cyber-success: var(--shadow-success, 0 0 10px var(--theme-success));
  --shadow-cyber-accent: var(--shadow-accent);
  --shadow-cyber-danger: var(--shadow-danger, 0 0 10px var(--theme-danger));

  /* Custom UI shadows */
  --shadow-cyber-focus: 0 0 10px var(--theme-primary);
  --shadow-cyber-validation: 0 0 15px var(--theme-secondary);
}

.theme-lcars,
.theme-lcars * {
  font-family: 'Antonio', sans-serif !important;
}

.theme-cyberpunk,
.theme-cyberpunk * {
  font-family: 'Courier New', Courier, monospace !important;
}

.theme-matrix,
.theme-matrix * {
  font-family: 'VT323', monospace !important;
}

.theme-weyland,
.theme-weyland * {
  font-family: 'Share Tech Mono', monospace !important;
}

body,
.theme-cyberpunk,
.theme-lcars,
.theme-matrix,
.theme-weyland {
  /* These variables re-evaluate the static Tailwind @theme colors cleanly inside the body scope */
  --color-cyber-primary: var(--theme-primary);
  --color-cyber-secondary: var(--theme-secondary);
  --color-cyber-success: var(--theme-success);
  --color-cyber-accent: var(--theme-accent);
  --color-cyber-danger: var(--theme-danger);
  --color-cyber-info: var(--theme-info);
  --color-cyber-warning: var(--theme-warning);
  --cyber-bg: var(--theme-bg);
  --cyber-surface: var(--theme-surface);
  --cyber-border: var(--theme-border);

  margin: 0;
  font-family: var(--font-mono);
  background-color: var(--theme-bg);
  color: var(--theme-text, #e0e0e0);
  -webkit-font-smoothing: antialiased;
  transition: background-color 0.3s ease, color 0.3s ease;
}

@layer components {
  .btn-cyber {
    @apply px-4 py-2 font-bold text-black transition-all duration-300 transform;
    border-radius: var(--theme-radius);
  }

  .btn-cyber-primary {
    @apply bg-cyber-primary shadow-cyber-primary hover:scale-105 hover:opacity-90;
  }

  .btn-cyber-secondary {
    @apply bg-cyber-secondary shadow-cyber-secondary hover:scale-105 hover:opacity-90;
  }

  .btn-cyber-accent {
    @apply bg-cyber-accent shadow-cyber-accent hover:scale-105 hover:opacity-90;
  }

  .btn-cyber-danger {
    @apply bg-cyber-danger shadow-cyber-danger hover:scale-105 hover:opacity-90;
  }

  .card-cyber {
    @apply bg-cyber-card backdrop-blur-md border border-cyber-gray p-4 shadow-lg;
    border-radius: var(--theme-radius);
  }

  .input-cyber {
    @apply bg-cyber-dark border border-cyber-gray p-2 text-[#e0e0e0] placeholder-gray-500 focus:outline-none focus:border-cyber-primary transition-all duration-300;
    border-radius: var(--theme-radius);
  }

  .input-cyber:focus {
    @apply shadow-cyber-focus;
  }

  .cyber-validation-bubble {
    @apply absolute left-1/2 -translate-x-1/2 bottom-full mb-2 px-3 py-1 bg-cyber-secondary text-black text-[12px] font-bold uppercase tracking-tighter whitespace-nowrap z-50 shadow-cyber-validation pointer-events-none animate-bounce;
    clip-path: polygon(0% 0%, 100% 0%, 100% 88%, 58% 88%, 50% 100%, 42% 88%, 0% 88%);
  }

  /* LCARS Scrollbar */
  .theme-lcars .custom-scrollbar::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }

  .theme-lcars .custom-scrollbar::-webkit-scrollbar-track {
    background: #000;
  }

  .theme-lcars .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #ff9c00;
    border-radius: 6px;
    border: 3px solid #000;
  }

  .theme-lcars .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #ffcc99;
  }

  /* Matrix Scrollbar */
  .theme-matrix .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .theme-matrix .custom-scrollbar::-webkit-scrollbar-track {
    background: #030804;
  }

  .theme-matrix .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #00ff41;
    border-radius: 0px;
    box-shadow: 0 0 5px #00ff41;
  }

  .theme-matrix .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #00ff41;
  }

  /* Weyland Scrollbar (Industrial Amber) */
  .theme-weyland .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .theme-weyland .custom-scrollbar::-webkit-scrollbar-track {
    background: #050505;
  }

  .theme-weyland .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #ffb000;
    border-radius: 2px;
  }

  .theme-weyland .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #cc8400;
  }

  /* Cyberpunk Scrollbar (Neon Pink) */
  .theme-cyberpunk .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .theme-cyberpunk .custom-scrollbar::-webkit-scrollbar-track {
    background: #0a0a0a;
  }

  .theme-cyberpunk .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #ff00ff;
    border-radius: 4px;
    box-shadow: 0 0 10px #ff00ff;
  }

  .theme-cyberpunk .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #bc13fe;
  }
}

.input-lowercase {
  text-transform: lowercase !important;
}

.input-normal-case {
  text-transform: none !important;
}

.font-preview-cyberpunk {
  font-family: 'Courier New', Courier, monospace !important;
}

.font-preview-lcars {
  font-family: 'Antonio', sans-serif !important;
}

.font-preview-matrix {
  font-family: 'VT323', monospace !important;
  color: #00ff41 !important;
}

.font-preview-weyland {
  font-family: 'Share Tech Mono', monospace !important;
  color: #ffb000 !important;
}

.btn-terminate {
  background-color: #ff2200 !important;
  color: white !important;
  border-color: #ffcc00 !important;
}

.btn-terminate:hover {
  background-color: #cc1b00 !important;
  box-shadow: 0 0 15px rgba(255, 34, 0, 0.5) !important;
}

.theme-lcars .btn-terminate {
  border-radius: 9999px !important;
}

/* LCARS Global Shape Overrides */
.theme-lcars button,
.theme-lcars .btn-cyber {
  border-radius: 9999px !important;
}

/* Ensure the inner close button [X] inside modals doesn't look weird if it's perfectly round but mapped to the corner. Wait, we explicitly styled [X] with rounded-tr-xl, so we need to exclude it or be specific. */
.theme-lcars button:not(.rounded-tr-xl) {
  border-radius: 9999px !important;
}

/* Force deeply rounded corners on Modals, Alert Overlays, and Notification boxes */
.theme-lcars .card-cyber,
.theme-lcars .bg-cyber-black,
.theme-lcars .bg-red-500\/10,
.theme-lcars .bg-red-900\/10,
.theme-lcars .bg-yellow-700\/10,
.theme-lcars .bg-cyber-success\/5,
.theme-lcars .bg-cyber-accent\/5,
.theme-lcars .bg-cyber-primary\/5 {
  border-radius: 1.5rem !important;
}

/* Theme overrides section cleaned up in execution phase. */